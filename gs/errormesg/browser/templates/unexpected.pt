<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="siteName python:view.siteInfo.get_name()">
  <tal:block metal:use-macro="context/@@groupserver_site_home_layout/page">
    <head>
      <title metal:fill-slot="title">
        Unexpected Error (500):
        <tal:block replace="siteName"/>
      </title>
      <tal:block metal:fill-slot="metadata">
        <meta name="author" content="OnlineGroups.Net" />
        <meta name="description" content="Page not found page" />
      </tal:block>
    </head>
    <body>
      <div metal:fill-slot="sitenavigation" id="sitenavigation"
        class="tabs ui-tabs ui-widget">
        <ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix">
          <li class="ui-state-default ui-corner-top">
            <a href="/">Home</a>
          </li>
        </ul>
      </div>
      <div metal:fill-slot="externallinks">&#160;</div>
      <div metal:fill-slot="contextnavigation">&#160;</div>
      <div metal:fill-slot="breadcrumb">&#160;</div>
      <div metal:fill-slot="footer">&#160;</div>
      <div metal:fill-slot="body"
        tal:define="siteId view/siteInfo/id;
          gse python:modules['Products.XWFCore.XWFUtils'].get_support_email;
          supportEmail python:gse(context,siteId);">
        <h1>Unexpected Error</h1>
        <!--Appologise, and state what went wrong -->
        <p id="appology">Sorry, there was an error with the page 
          <code class="url" 
            tal:content="view/requested">http://some.site</code>
        </p>
        <!-- Give a detailed explanation about what went wrong, and -->
        <!--   what can be done.-->
        <div id="todo">
          <p>
            Please
            <a href="#" class="email"
              tal:attributes="href string:mailto:${supportEmail}?Subject=Unexpected%20Error&amp;body=${view/supportMessage}">email
                support</a> 
            and we will see what we can do to fix the problem.
          </p>
        </div><!--todo-->
        <!--Lastly, give the technical details about the error. Bots may-->
        <!--find this useful.-->
        <div id="technical">
          <p>Technical Description:
            <code class="error"><span class="val">500</span>
              <span class="description">Internal Server Error</span></code>
          </p>
          <p>
            <span class="detail">URL: 
              <code class="val url"
                tal:content="view/requested">http://some.site</code></span>
          </p>
          <p>Issue:
            <code class="message" 
              tal:content="view/lastMessageLine">err</code>
          </p>
        </div><!--technical-->
      </div>
    </body>
  </tal:block>
</html>

